// Energy data array
export const energyData = [
    {
      id: 1,
      date: "13 June 2023",
      tr1: 2979686,
      tr1Voltage: 428,
      tr1Current: 918,
      tr2: 7583831,
      tr2Voltage: 420,
      tr2Current: 125,
      chillerPlantRoom: 3156,
      chiller1: 1085,
      pHouse: 95.37,
      csBuilding: 278.4,
      lc: 2333,
      nRoadSide: null,
      rdSs: 87.89,
      commonPanel: 109.3,
      lc2: 1741,
      chiller2: 1496,
      chiller3: 952.8,
      firePumpRoom: 1.364,
      wsPumpRoom: null,
      nSide: 477.2,
      dataCentre: null,
      dispensary: null,
      egAc: 138.612,
      totalUnitConsumed: null,
    },
    {
      id: 2,
      date: "14 June 2023",
      tr1: 2994328,
      tr1Voltage: 418,
      tr1Current: 1300,
      tr2: 7585231,
      tr2Voltage: 423,
      tr2Current: 208,
      chillerPlantRoom: 3159,
      chiller1: 1089,
      pHouse: 95.96,
      csBuilding: 279.3,
      lc: 2336,
      nRoadSide: null,
      rdSs: 89.61,
      commonPanel: 109.5,
      lc2: 1742,
      chiller2: 1496,
      chiller3: 952.8,
      firePumpRoom: 1.364,
      wsPumpRoom: null,
      nSide: 478.1,
      dataCentre: null,
      dispensary: null,
      egAc: 138.82,
      totalUnitConsumed: 15518,
    },
    {
      id: 3,
      date: "15 June 2023",
      tr1: 3008601,
      tr1Voltage: 410,
      tr1Current: 1278,
      tr2: 7588546,
      tr2Voltage: 412,
      tr2Current: 185,
      chillerPlantRoom: 3163,
      chiller1: 1093,
      pHouse: 96.33,
      csBuilding: 280,
      lc: 2338,
      nRoadSide: null,
      rdSs: 91.01,
      commonPanel: 109.7,
      lc2: 1744,
      chiller2: 1496,
      chiller3: 952.8,
      firePumpRoom: 1.364,
      wsPumpRoom: null,
      nSide: 478.9,
      dataCentre: null,
      dispensary: null,
      egAc: 138.85,
      totalUnitConsumed: 15500
    },
    {
      id: 4,
      date: "16 June 2023",
      tr1: 3020727,
      tr1Voltage: 421,
      tr1Current: 945,
      tr2: 7592633,
      tr2Voltage: 422,
      tr2Current: 630,
      chillerPlantRoom: 3169,
      chiller1: 1095.52,
      pHouse: 96.71,
      csBuilding: 280.81,
      lc: 2341.72,
      nRoadSide: null,
      rdSs: 92.32,
      commonPanel: 109.9,
      lc2: 1745.77,
      chiller2: 1498,
      chiller3: 952.92,
      firePumpRoom: 1.36,
      wsPumpRoom: null,
      nSide: 479.75,
      dataCentre: null,
      dispensary: null,
      egAc: 138.95,
      totalUnitConsumed: 19778.71
    },
    {
      id: 5,
      date: "17 June 2023",
      tr1: 3031238,
      tr1Voltage: 413,
      tr1Current: 786,
      tr2: 7599350,
      tr2Voltage: 413,
      tr2Current: 606,
      chillerPlantRoom: 3170,
      chiller1: 1095.55,
      pHouse: 97.2,
      csBuilding: 281.45,
      lc: 2344.01,
      nRoadSide: null,
      rdSs: 93.84,
      commonPanel: 110.12,
      lc2: 1746.91,
      chiller2: 1503,
      chiller3: 952.94,
      firePumpRoom: 1.36,
      wsPumpRoom: null,
      nSide: 480.52,
      dataCentre: null,
      dispensary: null,
      egAc: 139.02,
      totalUnitConsumed: 13180.9
    },
    {
      id: 6,
      date: "18 June 2023",
      tr1: 3041271,
      tr1Voltage: 415,
      tr1Current: 696,
      tr2: 7606061,
      tr2Voltage: 416,
      tr2Current: 521,
      chillerPlantRoom: 3173,
      chiller1: 1095.58,
      pHouse: 97.73,
      csBuilding: 282.08,
      lc: 2346.28,
      nRoadSide: null,
      rdSs: 95.43,
      commonPanel: 110.2,
      lc2: 1748.13,
      chiller2: 1507,
      chiller3: 952.96,
      firePumpRoom: 1.36,
      wsPumpRoom: null,
      nSide: 481.34,
      dataCentre: null,
      dispensary: null,
      egAc: 139.06,
      totalUnitConsumed: 14236.3
    },
    {
      id: 7,
      date: "19 June 2023",
      tr1: 3051649,
      tr1Voltage: 421,
      tr1Current: 1510,
      tr2: 7611484,
      tr2Voltage: 426,
      tr2Current: 226,
      chillerPlantRoom: 3177,
      chiller1: 1096.26,
      pHouse: 98.12,
      csBuilding: 282.77,
      lc: 2348.86,
      nRoadSide: null,
      rdSs: 96.82,
      commonPanel: 110.31,
      lc2: 1749.31,
      chiller2: 1511,
      chiller3: 952.98,
      firePumpRoom: 1.36,
      wsPumpRoom: null,
      nSide: 482.17,
      dataCentre: null,
      dispensary: null,
      egAc: 139.06,
      totalUnitConsumed: 15868
    },
    {
      id: 8,
      date: "20 June 2023",
      tr1: 3068397,
      tr1Voltage: 416,
      tr1Current: 1364,
      tr2: 7613833,
      tr2Voltage: 421,
      tr2Current: 223,
      chillerPlantRoom: 3180,
      chiller1: 1101.59,
      pHouse: 98.61,
      csBuilding: 283.68,
      lc: 2351.84,
      nRoadSide: null,
      rdSs: 98.5,
      commonPanel: 110.55,
      lc2: 1750.67,
      chiller2: 1511.28,
      chiller3: 953,
      firePumpRoom: 1.36,
      wsPumpRoom: null,
      nSide: 483.09,
      dataCentre: null,
      dispensary: null,
      egAc: 139.06,
      totalUnitConsumed: 17208
    },
    {
      id: 9,
      date: "21 June 2023",
      tr1: 3086015,
      tr1Voltage: 410,
      tr1Current: 1560,
      tr2: 7616270,
      tr2Voltage: 415,
      tr2Current: 297,
      chillerPlantRoom: 3184,
      chiller1: 1107.3,
      pHouse: 99.23,
      csBuilding: 284.53,
      lc: 2354.79,
      nRoadSide: null,
      rdSs: 100.18,
      commonPanel: 110.78,
      lc2: 1752.1,
      chiller2: 1511.31,
      chiller3: 953.03,
      firePumpRoom: 1.37,
      wsPumpRoom: null,
      nSide: 484.03,
      dataCentre: null,
      dispensary: null,
      egAc: 139.06,
      totalUnitConsumed: null
    },
    {
      id: 10,
      date: "22 June 2023",
      tr1: 3103632,
      tr1Voltage: 413,
      tr1Current: 1537,
      tr2: 7618769,
      tr2Voltage: 418,
      tr2Current: 276,
      chillerPlantRoom: 3187,
      chiller1: 1113,
      pHouse: 99.89,
      csBuilding: 285.4,
      lc: 2360.12,
      nRoadSide: null,
      rdSs: 101.97,
      commonPanel: 110.98,
      lc2: 1753.6,
      chiller2: 1511.34,
      chiller3: 953.05,
      firePumpRoom: 1.37,
      wsPumpRoom: null,
      nSide: 484.95,
      dataCentre: null,
      dispensary: null,
      egAc: 139.06,
      totalUnitConsumed: 20015
    },
    {
      id: 11,
      date: "23 June 2023",
      tr1: 3121743,
      tr1Voltage: 415,
      tr1Current: 1433,
      tr2: 7621418,
      tr2Voltage: 419,
      tr2Current: 665,
      chillerPlantRoom: 3192,
      chiller1: 1119,
      pHouse: 100.53,
      csBuilding: 286.3,
      lc: 2362.19,
      nRoadSide: null,
      rdSs: 103.81,
      commonPanel: 111.16,
      lc2: 1755.2,
      chiller2: 1511.45,
      chiller3: 953.07,
      firePumpRoom: 1.37,
      wsPumpRoom: null,
      nSide: 485.87,
      dataCentre: null,
      dispensary: null,
      egAc: 139.06,
      totalUnitConsumed: 19284
    },
    {
      id: 12,
      date: "24 June 2023",
      tr1: 3138227,
      tr1Voltage: 422,
      tr1Current: 1121,
      tr2: 7623766,
      tr2Voltage: 426,
      tr2Current: 206,
      chillerPlantRoom: 3195,
      chiller1: 1124,
      pHouse: 101.1,
      csBuilding: 287.1,
      lc: 2363.11,
      nRoadSide: null,
      rdSs: 107.1,
      commonPanel: 111.34,
      lc2: 1756.5,
      chiller2: 1511.57,
      chiller3: 953.1,
      firePumpRoom: 1.37,
      wsPumpRoom: null,
      nSide: 486.76,
      dataCentre: null,
      dispensary: null,
      egAc: 139.06,
      totalUnitConsumed: 16100
    }
  ];

  // Helper function to get TR-1 and TR-2 KWH data
export const getTRKwhData = () => {
  return [
    { date: '1 July 2023', tr1KWH: 2500000, tr2KWH: 7500000 },
    { date: '1 January 2024', tr1KWH: 5000000, tr2KWH: 8500000 },
    { date: '1 July 2024', tr1KWH: 7000000, tr2KWH: 9500000 },
    { date: '1 January 2025', tr1KWH: 9000000, tr2KWH: 10500000 }
  ];
};

  export const filterDataByTimePeriod = (data, period) => {
    const currentDate = new Date();
    
    switch(period) {
      case 'day':
        // Return last 24 hours of data
        return data;
      case 'month':
        // Filter to current month
        { const lastMonth = new Date(currentDate);
        lastMonth.setMonth(currentDate.getMonth() - 1);
        return data.filter(item => {
          const itemDate = new Date(item.date);
          return itemDate >= lastMonth;
        }); }
      case 'year':
        // Filter to current year
        { const lastYear = new Date(currentDate);
        lastYear.setFullYear(currentDate.getFullYear() - 1);
        return data.filter(item => {
          const itemDate = new Date(item.date);
          return itemDate >= lastYear;
        }); }
      default:
        return data;
    }
  }
  
  // Helper function to get daily consumption
  export const getDailyConsumption = () => {
    return energyData.map((item) => ({
      date: item.date,
      value: item.totalUnitConsumed,
    }));
  };
  
  // Helper function to get transformer voltages
  export const getTransformerVoltages = () => {
    return energyData.map((item) => ({
      date: item.date,
      tr1Voltage: item.tr1Voltage,
      tr2Voltage: item.tr2Voltage,
    }));
  };
  
  // Helper function to get transformer currents
  export const getTransformerCurrents = () => {
    return energyData.map((item) => ({
      date: item.date,
      tr1Current: item.tr1Current,
      tr2Current: item.tr2Current,
    }));
  };

  export const getTR1SupplyData = () => {
    return [
      { date: '1 July 2023', professorHouse: 2400, csBuilding: 1600, lc1: 2400, hostelNRoad: 100, rndSS: 200, commonPanel: 150, wsPumpRoom: 50, dataCentre: 80, acHostelE: 120 },
      { date: '1 January 2024', professorHouse: 2800, csBuilding: 2000, lc1: 3000, hostelNRoad: 200, rndSS: 350, commonPanel: 200, wsPumpRoom: 100, dataCentre: 150, acHostelE: 180 },
      { date: '1 July 2024', professorHouse: 3200, csBuilding: 2200, lc1: 3400, hostelNRoad: 400, rndSS: 600, commonPanel: 250, wsPumpRoom: 150, dataCentre: 200, acHostelE: 220 },
      { date: '1 January 2025', professorHouse: 3600, csBuilding: 2400, lc1: 3800, hostelNRoad: 500, rndSS: 900, commonPanel: 300, wsPumpRoom: 200, dataCentre: 250, acHostelE: 260 }
    ];
  }

  export const getTR2SupplyData = () => {
    return [
      { date: '1 July 2023', lc2: 1800, chiller2: 1600, chiller3: 1000, firePumpRoom: 500, hostelNTAN: 500, dispensary: 100 },
      { date: '1 January 2024', lc2: 2000, chiller2: 1800, chiller3: 1100, firePumpRoom: 600, hostelNTAN: 700, dispensary: 150 },
      { date: '1 July 2024', lc2: 2300, chiller2: 2000, chiller3: 1300, firePumpRoom: 700, hostelNTAN: 800, dispensary: 200 },
      { date: '1 January 2025', lc2: 2700, chiller2: 2100, chiller3: 1600, firePumpRoom: 800, hostelNTAN: 1000, dispensary: 250 }
    ];
  };
  
  // Helper function to get the latest energy reading
  export const getLatestReading = () => {
    return energyData[energyData.length - 1];
  };
  
  // Helper function to calculate consumption change percentage
  export const calculateConsumptionChange = () => {
    const lastReading = energyData[energyData.length - 1].totalUnitConsumed;
    const previousReading = energyData[energyData.length - 2].totalUnitConsumed;
  
    if (lastReading && previousReading) {
      return ((lastReading - previousReading) / previousReading) * 100;
    }
    return 0;
  };
  
  // Helper function to calculate average consumption
  export const getAverageConsumption = () => {
    const validReadings = energyData
      .filter((reading) => reading.totalUnitConsumed !== null)
      .map((reading) => reading.totalUnitConsumed);
  
    if (validReadings.length === 0) return 0;
  
    return validReadings.reduce((sum, val) => sum + val, 0) / validReadings.length;
  };
  
  // Helper function to get consumption data by area
  export const getConsumptionByArea = () => {
    const latest = getLatestReading();
    return [
      { name: "Chiller Plant", value: latest.chillerPlantRoom },
      { name: "CS Building", value: latest.csBuilding },
      { name: "LC", value: latest.lc },
      { name: "R&D Area", value: latest.rdSs },
      { name: "N Side", value: latest.nSide },
      { name: "E&G AC", value: latest.egAc },
    ];
  };